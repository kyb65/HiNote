# 미해결 오류 기록

## 1. 텍스트박스 경계가 화면 밖으로 나갔을 때 클릭 좌표 오인식 — **해결됨**

### 상황
- 텍스트박스에 개행 없이 많은 글자를 입력하면 텍스트박스 너비가 계속 늘어남.
- 텍스트박스의 오른쪽 경계가 화면(뷰포트) 오른쪽을 넘어가면, 사용자가 패닝하여 텍스트박스 오른쪽 끝이 보이도록 원점이 왼쪽으로 이동함.
- 그 상태에서 좌클릭으로 새 텍스트박스를 만들면, **클릭한 위치가 아닌 패닝된 만큼 어긋난 곳에 텍스트박스가 생성됨.**

### 해결 방법
- **원인**: 캔버스 원점(0,0)이 놓이는 "화면상의 중심"을 `window.innerWidth/2`, `window.innerHeight/2`로 고정해 두어, 실제로는 `.viewport` 요소 기준으로 그려지는 캔버스와 기준이 어긋날 수 있었음. 패닝 후 이 어긋남이 클릭 좌표에 반영됨.
- **수정**: `screenToCanvas` 및 휠 줌에서 사용하는 중심을 **뷰포트 요소의 현재 화면 위치**로 통일. `getViewportCenter()`를 두고 `viewportRef.current.getBoundingClientRect()`로 `centerX = rect.left + rect.width/2`, `centerY = rect.top + rect.height/2`를 구해, 이 값을 `screenToCanvas`와 `handleWheel`에서 사용하도록 변경. 패닝 후에도 클릭 시 정확한 캔버스 좌표가 나옴.

---

*이 문서는 미해결 이슈를 기록해 두기 위한 것입니다. 해결 시 위 항목에 해결 방법과 커밋을 적고, 필요하면 별도 이슈로 정리하세요.*
