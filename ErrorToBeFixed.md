# 미해결 오류 기록

## 1. 텍스트박스 경계가 화면 밖으로 나갔을 때 클릭 좌표 오인식 (미해결)

### 상황
- 텍스트박스에 개행 없이 많은 글자를 입력하면 텍스트박스 너비가 계속 늘어남.
- 텍스트박스의 오른쪽 경계가 화면(뷰포트) 오른쪽을 넘어가면, 화면이 자동으로 텍스트박스 경계를 따라가며 스크롤(또는 뷰가 이동)하는 것처럼 동작함.
- 그 상태에서 마우스 좌클릭으로 새 텍스트박스를 만들려 하면, **클릭한 위치가 아닌 잘못된 곳에 텍스트박스가 생성됨.**

### 시도한 수정 (효과 없음)
- `screenToCanvas` 및 휠 줌에서 **보이는 화면(visual viewport)** 기준으로 좌표 계산하도록 변경: `getBoundingClientRect()` 대신 `window.innerWidth/2`, `window.innerHeight/2` 사용.
- `html`, `body`, `#root`에 `max-width: 100vw`, `max-height: 100vh` 적용.
- (이전에) 뷰 상태를 ref로 최신 유지하도록 시도 → 원인 불일치로 제거.

### 추정 원인
- 텍스트박스가 화면 밖으로 길어지면서 문서/레이아웃이 가로로 넓어지고, 그 과정에서 스크롤 또는 좌표계가 달라짐.
- `clientX`/`clientY`와 사용하는 “화면 중심” 또는 요소 경계의 기준이 일치하지 않는 상황이 여전히 발생하는 것으로 추정.

### 해결 시 참고
- 문서가 가로로 넓어지지 않도록 뷰포트/캔버스를 **클리핑**만 하고 스크롤이 생기지 않게 할 것.
- 또는 스크롤이 발생하더라도, **항상 보이는 영역(visual viewport)의 중심과 클릭 좌표**만 사용하는지 전체 이벤트 경로에서 다시 확인할 것.

---

*이 문서는 미해결 이슈를 기록해 두기 위한 것입니다. 해결 시 위 항목에 해결 방법과 커밋을 적고, 필요하면 별도 이슈로 정리하세요.*
